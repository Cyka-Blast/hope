{"ast":null,"code":"var _jsxFileName = \"/home/flash/Programming/Language/Web/chatapp/chat/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport io from \"socket.io-client\";\nimport logo from \"./logo.svg\";\nimport './App.css';\nlet endPoint = \"http://127.0.0.1:5000/\";\nlet socket = io.connect(endPoint);\n\nfunction Chat() {\n  const [messages, setMessages] = useState([]);\n  const [message, setMessage] = useState({\n    text: \"\",\n    user: \"\"\n  });\n  useEffect(() => {\n    getMessages();\n  }, [messages.length]);\n\n  const getMessages = () => {\n    socket.on(\"message\", msg => {\n      setMessages([...messages, msg]);\n    });\n  };\n\n  const onChange = e => {\n    var msg = e.target.value;\n    setMessage({\n      text: msg,\n      user: \"current\"\n    });\n  };\n\n  const onClick = () => {\n    if (message.text != \"\") {\n      socket.emit(\"message\", {\n        text: message.text,\n        user: \"other\"\n      });\n      setMessages([...messages, message]);\n      setMessage({\n        text: \"\",\n        user: \"\"\n      });\n    } else {\n      alert(\"Please Add a Message\");\n    }\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, messages.length > 0 && messages.map(msg => React.createElement(\"div\", {\n    className: msg.user,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, msg.text))), React.createElement(\"form\", {\n    className: \"input\",\n    onSubmit: () => onClick(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    value: message.text,\n    name: \"message\",\n    onChange: e => onChange(e),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    className: \"submit-button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }, \"Send\")));\n}\n\n;\nexport default Chat;","map":{"version":3,"sources":["/home/flash/Programming/Language/Web/chatapp/chat/src/App.js"],"names":["React","useState","useEffect","io","endPoint","socket","connect","Chat","messages","setMessages","message","setMessage","text","user","getMessages","length","on","msg","onChange","e","target","value","onClick","emit","alert","map"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,EAAP,MAAe,kBAAf;;AAEA,OAAO,WAAP;AAEA,IAAIC,QAAQ,GAAC,wBAAb;AACA,IAAIC,MAAM,GAACF,EAAE,CAACG,OAAH,CAAWF,QAAX,CAAX;;AACA,SAASG,IAAT,GAAe;AACd,QAAM,CAACC,QAAD,EAAUC,WAAV,IAAuBR,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM,CAACS,OAAD,EAAUC,UAAV,IAAsBV,QAAQ,CAAC;AAACW,IAAAA,IAAI,EAAC,EAAN;AAAUC,IAAAA,IAAI,EAAC;AAAf,GAAD,CAApC;AACAX,EAAAA,SAAS,CAAC,MAAI;AACbY,IAAAA,WAAW;AACX,GAFQ,EAEN,CAACN,QAAQ,CAACO,MAAV,CAFM,CAAT;;AAGA,QAAMD,WAAW,GAAG,MAAM;AACzBT,IAAAA,MAAM,CAACW,EAAP,CAAU,SAAV,EAAqBC,GAAG,IAAI;AAC3BR,MAAAA,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAaS,GAAb,CAAD,CAAX;AACA,KAFD;AAGA,GAJD;;AAKA,QAAMC,QAAQ,GAAEC,CAAC,IAAI;AACpB,QAAIF,GAAG,GAACE,CAAC,CAACC,MAAF,CAASC,KAAjB;AACAV,IAAAA,UAAU,CAAC;AAACC,MAAAA,IAAI,EAACK,GAAN;AAAUJ,MAAAA,IAAI,EAAC;AAAf,KAAD,CAAV;AACA,GAHD;;AAIA,QAAMS,OAAO,GAAG,MAAM;AACtB,QAAGZ,OAAO,CAACE,IAAR,IAAgB,EAAnB,EAAsB;AACrBP,MAAAA,MAAM,CAACkB,IAAP,CAAY,SAAZ,EAAsB;AAACX,QAAAA,IAAI,EAACF,OAAO,CAACE,IAAd;AAAmBC,QAAAA,IAAI,EAAC;AAAxB,OAAtB;AACAJ,MAAAA,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAaE,OAAb,CAAD,CAAX;AACAC,MAAAA,UAAU,CAAC;AAACC,QAAAA,IAAI,EAAC,EAAN;AAASC,QAAAA,IAAI,EAAC;AAAd,OAAD,CAAV;AACA,KAJD,MAIK;AACJW,MAAAA,KAAK,CAAC,sBAAD,CAAL;AACA;AACA,GARD;;AAUA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACChB,QAAQ,CAACO,MAAT,GAAgB,CAAhB,IAAqBP,QAAQ,CAACiB,GAAT,CAAaR,GAAG,IACrC;AAAK,IAAA,SAAS,EAAEA,GAAG,CAACJ,IAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAII,GAAG,CAACL,IAAR,CADA,CADqB,CADtB,EAMA;AAAM,IAAA,SAAS,EAAC,OAAhB;AAAwB,IAAA,QAAQ,EAAE,MAAMU,OAAO,EAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACA;AAAO,IAAA,KAAK,EAAEZ,OAAO,CAACE,IAAtB;AAA4B,IAAA,IAAI,EAAC,SAAjC;AAA2C,IAAA,QAAQ,EAAEO,CAAC,IAAID,QAAQ,CAACC,CAAD,CAAlE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADA,EAEA;AAAQ,IAAA,SAAS,EAAC,eAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFA,CANA,CADD;AAaA;;AAAA;AACD,eAAeZ,IAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport io from \"socket.io-client\";\nimport logo from './logo.svg';\nimport './App.css';\n\nlet endPoint=\"http://127.0.0.1:5000/\";\nlet socket=io.connect(endPoint);\nfunction Chat(){\n\tconst [messages,setMessages]=useState([]);\n\tconst [message, setMessage]=useState({text:\"\", user:\"\"});\n\tuseEffect(()=>{\n\t\tgetMessages();\n\t}, [messages.length]);\n\tconst getMessages = () => {\n\t\tsocket.on(\"message\", msg => {\n\t\t\tsetMessages([...messages,msg]);\n\t\t});\n\t};\n\tconst onChange =e => {\n\t\tvar msg=e.target.value;\n\t\tsetMessage({text:msg,user:\"current\"});\n\t};\n\tconst onClick = () => {\n\tif(message.text != \"\"){\n\t\tsocket.emit(\"message\",{text:message.text,user:\"other\"});\n\t\tsetMessages([...messages,message]);\n\t\tsetMessage({text:\"\",user:\"\"});\n\t}else{\n\t\talert(\"Please Add a Message\");\n\t}\n\t};\n\n\treturn(\n\t\t<div>\n\t\t{messages.length>0 && messages.map(msg => (\n\t\t\t<div className={msg.user}>\n\t\t\t<p>{msg.text}</p>\n\t\t\t</div>\n\t\t))}\n\t\t<form className=\"input\" onSubmit={() => onClick()}>\n\t\t<input value={message.text} name=\"message\" onChange={e => onChange(e)} />\n\t\t<button className=\"submit-button\" >Send</button>\n\t\t</form>\n\t\t</div>\n\t);\n};\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}